$(document).ready(function(){var o=JSON.parse(apiKey);o=o[0].key,$("#submit").click(function(){var e=document.getElementById("inputCategory").value;!function(e,t){if(""!==t){var c=$("#inputCategory option:selected").val();r.category=c}if(""!==e){var o=$("#inputCountry option:selected").val();r.country=o}}(document.getElementById("inputCountry").value,e);var t,c=function(){var e="http://newsapi.org/v2/top-headlines?apiKey="+o;""!=r.country&&(e+="&country="+r.country);""!=r.category&&(e+="&category="+r.category);return console.log(e),e}();t=c,$.ajax({url:t,type:"GET",data:"json",success:function(e){!function(e){var t;for($("#result").empty(),document.getElementById("result").innerHTML+='<div class="col-12 col-lg-12 col-md-12 col-sm-12"><h2 class="mt-5 text-center">Breaking Headlines in '+r.country+" about "+r.category+" News</h2><br><br></div>",t=0;t<e.length;t++)document.getElementById("result").innerHTML+='<div class="col col-lg-4 col-md-12 col-sm-12 pb-3"><div class="card border border-info"><img src="'+e[t].urlToImage+'" class="card-img" alt="news image"><div class="card-body px-3 py-3"><h5 class="card-title"><a href="'+e[t].url+'">'+e[t].title+'</a></h5><p class="card-text">'+e[t].description+'</p><p class="card-text">Source: <i>'+e[t].source.name+'</i></p><hr><p class="card-text">| '+e[t].publishedAt+" |</p>"}(e.articles)},error:function(){console.log("error")}})}),$("#submitSource").click(function(){!function(e){if(""!==e){var t=$("#inputSource option:selected").val();r.source=t}}(document.getElementById("inputSource").value);var e,t=function(){var e="http://newsapi.org/v2/top-headlines?apiKey="+o;""!=r.source&&(e+="&sources="+r.source);return console.log(e),e}();e=t,$.ajax({url:e,type:"GET",data:"json",success:function(e){!function(e){var t;for($("#result").empty(),document.getElementById("result").innerHTML+='<div class="col-12 col-lg-12 col-md-12 col-sm-12"><h2 class="mt-5 text-center">Breaking Headlines from '+r.source+"</h2><br><br></div>",t=0;t<e.length;t++)document.getElementById("result").innerHTML+='<div class="col col-lg-4 col-md-12 col-sm-12 pb-3"><div class="card border border-info"><img src="'+e[t].urlToImage+'" class="card-img" alt="news image"><div class="card-body px-3 py-3"><h5 class="card-title"><a href="'+e[t].url+'">'+e[t].title+'</a></h5><p class="card-text">'+e[t].description+'</p><p class="card-text">Source: <i>'+e[t].source.name+'</i></p><hr><p class="card-text">| '+e[t].publishedAt+" |</p>"}(e.articles)},error:function(){console.log("error")}})});var r=new function(){};$("#inputCountry").on("change",function(){$("#inputCountry option:selected").val()}),$("#inputCategory").on("change",function(){$("#inputCategory option:selected").val()}),$("#inputSource").on("change",function(){var e;e=$("#inputSource option:selected").val(),console.log(e)});var e="http://newsapi.org/v2/top-headlines?country=nz&apiKey="+o;$.ajax({url:e,type:"GET",data:"json",success:function(e){var t;for(console.log(e),$("#result").empty(),document.getElementById("result").innerHTML+='<div class="col-12 col-lg-12 col-md-12 col-sm-12"><h2 class="mt-5 text-center">Breaking Headlines in New Zealand</h2><br><br></div>',t=0;t<e.articles.length;t++)document.getElementById("result").innerHTML+='<div class="col col-lg-4 col-md-12 col-sm-12 pb-3"><div class="card border border-info"><img src="'+e.articles[t].urlToImage+'" class="card-img" alt="news image"><div class="card-body px-3 py-3"><h5 class="card-title"><a href="'+e.articles[t].url+'">'+e.articles[t].title+'</a></h5><p class="card-text">'+e.articles[t].description+'</p><p class="card-text">Source: <i>'+e.articles[t].source.name+'</i></p><hr><p class="card-text">| '+e.articles[t].publishedAt+" |</p>"},error:function(){console.log("error")}}),$("#about").hide(),$(".btn-hide").hide(),$(".btn-show").click(function(){$("#about").slideDown(1e3),$(".btn-hide").show(),$(".btn-show").hide()}),$(".btn-hide").click(function(){$("#about").slideUp(),$("#about").hide(),$(".btn-hide").hide(),$(".btn-show").show()})});